<div class="admin-category-form">
    <div class="header">
        <button (click)="goBack()" class="btn-back">← Volver</button>
        <h1>{{ isEditMode ? 'Editar Categoría' : 'Nueva Categoría' }}</h1>
    </div>

    <div *ngIf="loading && !categoryForm.value.name" class="loading">
        <p>Cargando...</p>
    </div>

    <div *ngIf="error" class="error">
        <p>{{ error }}</p>
    </div>

    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="form">
        <div class="form-group">
            <label for="name">Nombre *</label>
            <input 
                type="text" 
                id="name" 
                formControlName="name" 
                class="form-control"
                [class.invalid]="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched">
            <div *ngIf="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched" class="error-message">
                El nombre es requerido y debe tener al menos 2 caracteres
            </div>
        </div>

        <div class="form-group">
            <label for="description">Descripción *</label>
            <textarea 
                id="description" 
                formControlName="description" 
                rows="4"
                class="form-control"
                [class.invalid]="categoryForm.get('description')?.invalid && categoryForm.get('description')?.touched"></textarea>
            <div *ngIf="categoryForm.get('description')?.invalid && categoryForm.get('description')?.touched" class="error-message">
                La descripción es requerida y debe tener al menos 5 caracteres
            </div>
        </div>

        <div class="form-group">
            <label for="imageURL">URL de Imagen</label>
            <input 
                type="url" 
                id="imageURL" 
                formControlName="imageURL" 
                class="form-control"
                placeholder="https://ejemplo.com/imagen.jpg">
        </div>

        <div class="form-actions">
            <button type="button" (click)="goBack()" class="btn-cancel">Cancelar</button>
            <button 
                type="submit" 
                [disabled]="categoryForm.invalid || loading"
                class="btn-submit">
                {{ loading ? 'Guardando...' : (isEditMode ? 'Actualizar' : 'Crear') }}
            </button>
        </div>
    </form>
</div>

