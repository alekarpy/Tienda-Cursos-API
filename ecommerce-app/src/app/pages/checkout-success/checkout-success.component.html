<div class="checkout-success-page">
  <div class="success-container">
    @if (loading) {
    <div class="loading-state">
      <div class="spinner"></div>
      <h2>Procesando tu pago...</h2>
      <p>Por favor, espera mientras confirmamos tu transacción.</p>
    </div>
    } @else if (error) {
    <div class="error-state">
      <div class="error-icon">❌</div>
      <h2>Error al procesar el pago</h2>
      <p>{{ error }}</p>
      <button class="btn-primary" (click)="goToOrderHistory()">
        Ver Historial de Órdenes
      </button>
    </div>
    } @else {
    <div class="success-state">
      <div class="success-icon">✅</div>
      <h1>¡Pago Exitoso!</h1>
      <p>Tu orden ha sido procesada correctamente.</p>
      @if (order) {
      <div class="order-info">
        <p>
          <strong>Orden #{{ order._id || order.id }}</strong>
        </p>
        <p>Total: ${{ order.total | number : "1.2-2" }}</p>
      </div>
      }
      <p class="redirect-message">
        Serás redirigido al historial de órdenes en unos segundos...
      </p>
      <button class="btn-primary" (click)="goToOrderHistory()">
        Ver Historial Ahora
      </button>
    </div>
    }
  </div>
</div>
